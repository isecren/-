# 安全设计  威胁建模
开源的威胁建模工具，有微软提供的威胁建模工具threat modeling tool，OWASP 的桌面和web版本的威胁建模工具Threat Dragon


owasp threat dragon。 该工具的主要工作流程是：绘制数据流图、进行威胁分析，制定消减措施。

通过访谈架构师及开发人员可以了解应用架构，并快速分解应用程序，进而绘制出详尽的数据流图。

绘制数据流图，是分解应用程序的一种技术，以可视方式展示数据如何在应用程序或系统中移动，以及各个组件在何处更改或存储数据。其中信任边界特指数据流中的卡点，在该点上需要对数据进行验证。信任边界是用数据流图进行威胁建模的关键。



数据流图主要由外部实体、处理过程、数据存储、数据流及信任边界组成。


威胁分析


Threat dragon采用STRIDE威胁分析方法。STRIDE从攻击者角度，把威胁分成仿冒、篡改、抵赖、信息泄漏、拒绝服务及权限提升。针对数据流图中的每个元素，分析其面临的威胁，并针对威胁制定消减措施。绘制完数据流图以后，就是对数据流中的每个元素可能面临的威胁逐个进行分析，但不是每个元素的STRIDE六类威胁都要去分析，图中表格列出每类元素可能面临的威胁，比如数据流只面临“篡改”、“信息泄露”、“拒绝服务”三种威胁。


自动化的威胁建模工具，比如ThreatModeler


# 源代码安全扫描


本地源代码安全检测--对于java项目来说，可以采用安全扫描插件FindSecurityBugs


SAST源代码安全扫描


源代码安全扫描，可以使用sonarqube + findsecuritybugs插件


DAST黑盒安全测试


SCA开源组件安全扫描--Dependency Check是OWASP出品的开源组件安全扫描工具


容器安全扫描--Clair是CoreOS发布的开源容器漏洞静态分析工具，首先对镜像layer进行特征的提取，匹配CVE漏洞库，检测是否含有安全漏洞，侧重于扫描容器中的OS和应用的CVE漏洞



MAST移动应用安全测试--MobSF是一款自动化移动APP安全测试工具，适用于iOS和Android，支持静态和动态分析。



安全加固--安全配置基线可以参考CIS Benchmark


漏洞管理--OWSAP DefectDojo是一款漏洞管理的开源工具，支持导入多种开源或商业安全工具的扫描结果，如Clair、Dependency Check、Harobr、MobSF、Sonarqbue、Zap等，实现在一个平台上对项目所有漏洞的集中化管理


RASP运行时应用安全保护技术

